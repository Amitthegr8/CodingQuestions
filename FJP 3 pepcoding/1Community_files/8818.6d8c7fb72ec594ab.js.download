"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8818,8218],{40242:function(e,n,r){r.d(n,{n:function(){return m}});var t=r(26450),i=r(67294);function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},o.apply(this,arguments)}function l(e){return e.sort((function(e,n){var r=e.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0}))}function a(e,n,r){var t=e+1;return r&&t>=n&&(t=0),t}function s(e,n,r){var t=e-1;return r&&t<0&&(t=n),t}var u="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,d=function(){var e=this;this.descendants=new Map,this.register=function(n){var r;if(null!=n)return"object"==typeof(r=n)&&"nodeType"in r&&r.nodeType===Node.ELEMENT_NODE?e.registerNode(n):function(r){e.registerNode(r,n)}},this.unregister=function(n){e.descendants.delete(n);var r=l(Array.from(e.descendants.keys()));e.assignIndex(r)},this.destroy=function(){e.descendants.clear()},this.assignIndex=function(n){e.descendants.forEach((function(e){var r=n.indexOf(e.node);e.index=r,e.node.dataset.index=e.index.toString()}))},this.count=function(){return e.descendants.size},this.enabledCount=function(){return e.enabledValues().length},this.values=function(){return Array.from(e.descendants.values()).sort((function(e,n){return e.index-n.index}))},this.enabledValues=function(){return e.values().filter((function(e){return!e.disabled}))},this.item=function(n){if(0!==e.count())return e.values()[n]},this.enabledItem=function(n){if(0!==e.enabledCount())return e.enabledValues()[n]},this.first=function(){return e.item(0)},this.firstEnabled=function(){return e.enabledItem(0)},this.last=function(){return e.item(e.descendants.size-1)},this.lastEnabled=function(){var n=e.enabledValues().length-1;return e.enabledItem(n)},this.indexOf=function(n){var r,t;return n&&null!=(r=null==(t=e.descendants.get(n))?void 0:t.index)?r:-1},this.enabledIndexOf=function(n){return null==n?-1:e.enabledValues().findIndex((function(e){return e.node.isSameNode(n)}))},this.next=function(n,r){void 0===r&&(r=!0);var t=a(n,e.count(),r);return e.item(t)},this.nextEnabled=function(n,r){void 0===r&&(r=!0);var t=e.item(n);if(t){var i=a(e.enabledIndexOf(t.node),e.enabledCount(),r);return e.enabledItem(i)}},this.prev=function(n,r){void 0===r&&(r=!0);var t=s(n,e.count()-1,r);return e.item(t)},this.prevEnabled=function(n,r){void 0===r&&(r=!0);var t=e.item(n);if(t){var i=s(e.enabledIndexOf(t.node),e.enabledCount()-1,r);return e.enabledItem(i)}},this.registerNode=function(n,r){if(n&&!e.descendants.has(n)){var t=l(Array.from(e.descendants.keys()).concat(n));null!=r&&r.disabled&&(r.disabled=!!r.disabled);var i=o({node:n,index:-1},r);e.descendants.set(n,i),e.assignIndex(t)}}};var c=(0,t.kr)({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"}),f=c[0],v=c[1];function m(){return[f,function(){return v()},function(){return function(){var e=(0,i.useRef)(new d);return u((function(){return function(){return e.current.destroy()}})),e.current}()},function(e){return function(e){var n=v(),r=(0,i.useState)(-1),o=r[0],l=r[1],a=(0,i.useRef)(null);u((function(){return function(){a.current&&n.unregister(a.current)}}),[]),u((function(){if(a.current){var e=Number(a.current.dataset.index);o==e||Number.isNaN(e)||l(e)}}));var s=e?n.register(e):n.register;return{descendants:n,index:o,enabledIndex:n.enabledIndexOf(a.current),register:(0,t.lq)(s,a)}}(e)}]}},79762:function(e,n,r){r.d(n,{NI:function(){return h},J1:function(){return C},lX:function(){return N},Yp:function(){return x},NJ:function(){return p},Kn:function(){return j}});var t=r(97375),i=r(11604),o=r(44592),l=r(26450),a=r(67294),s=r(10894);function u(){return u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},u.apply(this,arguments)}function d(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}var c=["id","isRequired","isInvalid","isDisabled","isReadOnly"],f=["getRootProps","htmlProps"],v=(0,l.kr)({strict:!1,name:"FormControlContext"}),m=v[0],p=v[1];var h=(0,i.Gp)((function(e,n){var r=(0,i.jC)("Form",e),s=function(e){var n=e.id,r=e.isRequired,i=e.isInvalid,s=e.isDisabled,f=e.isReadOnly,v=d(e,c),m=(0,t.Me)(),p=n||"field-"+m,h=p+"-label",g=p+"-feedback",b=p+"-helptext",y=a.useState(!1),x=y[0],j=y[1],C=a.useState(!1),I=C[0],O=C[1],N=(0,t.kt)(),k=N[0],E=N[1],_=a.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),u({id:b},e,{ref:(0,l.lq)(n,(function(e){e&&O(!0)}))})}),[b]),S=a.useCallback((function(e,n){var r,t;return void 0===e&&(e={}),void 0===n&&(n=null),u({},e,{ref:n,"data-focus":(0,o.PB)(k),"data-disabled":(0,o.PB)(s),"data-invalid":(0,o.PB)(i),"data-readonly":(0,o.PB)(f),id:null!=(r=e.id)?r:h,htmlFor:null!=(t=e.htmlFor)?t:p})}),[p,s,k,i,f,h]),P=a.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),u({id:g},e,{ref:(0,l.lq)(n,(function(e){e&&j(!0)})),"aria-live":"polite"})}),[g]),T=a.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),u({},e,v,{ref:n,role:"group"})}),[v]),w=a.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),u({},e,{ref:n,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!r,isInvalid:!!i,isReadOnly:!!f,isDisabled:!!s,isFocused:!!k,onFocus:E.on,onBlur:E.off,hasFeedbackText:x,setHasFeedbackText:j,hasHelpText:I,setHasHelpText:O,id:p,labelId:h,feedbackId:g,helpTextId:b,htmlProps:v,getHelpTextProps:_,getErrorMessageProps:P,getRootProps:T,getLabelProps:S,getRequiredIndicatorProps:w}}((0,i.Lr)(e)),v=s.getRootProps;s.htmlProps;var p=d(s,f),h=(0,o.cx)("chakra-form-control",e.className);return a.createElement(m,{value:p},a.createElement(i.Fo,{value:r},a.createElement(i.m$.div,u({},v({},n),{className:h,__css:r.container}))))}));o.Ts&&(h.displayName="FormControl");var g=(0,i.Gp)((function(e,n){var r=p(),t=(0,i.yK)(),l=(0,o.cx)("chakra-form__helper-text",e.className);return a.createElement(i.m$.div,u({},null==r?void 0:r.getHelpTextProps(e,n),{__css:t.helperText,className:l}))}));o.Ts&&(g.displayName="FormHelperText");var b=["isDisabled","isInvalid","isReadOnly","isRequired"],y=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function x(e){var n=j(e),r=n.isDisabled,t=n.isInvalid,i=n.isReadOnly,l=n.isRequired;return u({},d(n,b),{disabled:r,readOnly:i,required:l,"aria-invalid":(0,o.Qm)(t),"aria-required":(0,o.Qm)(l),"aria-readonly":(0,o.Qm)(i)})}function j(e){var n,r,t,i=p(),l=e.id,a=e.disabled,s=e.readOnly,c=e.required,f=e.isRequired,v=e.isInvalid,m=e.isReadOnly,h=e.isDisabled,g=e.onFocus,b=e.onBlur,x=d(e,y),j=e["aria-describedby"]?[e["aria-describedby"]]:[];return null!=i&&i.hasFeedbackText&&null!=i&&i.isInvalid&&j.push(i.feedbackId),null!=i&&i.hasHelpText&&j.push(i.helpTextId),u({},x,{"aria-describedby":j.join(" ")||void 0,id:null!=l?l:null==i?void 0:i.id,isDisabled:null!=(n=null!=a?a:h)?n:null==i?void 0:i.isDisabled,isReadOnly:null!=(r=null!=s?s:m)?r:null==i?void 0:i.isReadOnly,isRequired:null!=(t=null!=c?c:f)?t:null==i?void 0:i.isRequired,isInvalid:null!=v?v:null==i?void 0:i.isInvalid,onFocus:(0,o.v0)(null==i?void 0:i.onFocus,g),onBlur:(0,o.v0)(null==i?void 0:i.onBlur,b)})}var C=(0,i.Gp)((function(e,n){var r=(0,i.jC)("FormError",e),t=(0,i.Lr)(e),l=p();return null!=l&&l.isInvalid?a.createElement(i.Fo,{value:r},a.createElement(i.m$.div,u({},null==l?void 0:l.getErrorMessageProps(t,n),{className:(0,o.cx)("chakra-form__error-message",e.className),__css:u({display:"flex",alignItems:"center"},r.text)}))):null}));o.Ts&&(C.displayName="FormErrorMessage");var I=(0,i.Gp)((function(e,n){var r=(0,i.yK)(),t=p();if(null==t||!t.isInvalid)return null;var l=(0,o.cx)("chakra-form__error-icon",e.className);return a.createElement(s.ZP,u({ref:n,"aria-hidden":!0},e,{__css:r.icon,className:l}),a.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}));o.Ts&&(I.displayName="FormErrorIcon");var O=["className","children","requiredIndicator"],N=(0,i.Gp)((function(e,n){var r,t=(0,i.mq)("FormLabel",e),l=(0,i.Lr)(e);l.className;var s=l.children,c=l.requiredIndicator,f=void 0===c?a.createElement(k,null):c,v=d(l,O),m=p(),h=null!=(r=null==m?void 0:m.getLabelProps(v,n))?r:u({ref:n},v);return a.createElement(i.m$.label,u({},h,{className:(0,o.cx)("chakra-form__label",l.className),__css:u({display:"block",textAlign:"start"},t)}),s,null!=m&&m.isRequired?f:null)}));o.Ts&&(N.displayName="FormLabel");var k=(0,i.Gp)((function(e,n){var r=p(),t=(0,i.yK)();if(null==r||!r.isRequired)return null;var l=(0,o.cx)("chakra-form__required-indicator",e.className);return a.createElement(i.m$.span,u({},null==r?void 0:r.getRequiredIndicatorProps(e,n),{__css:t.requiredIndicator,className:l}))}));o.Ts&&(k.displayName="RequiredIndicator")},84304:function(e,n,r){r.d(n,{r:function(){return u}});var t=r(68133),i=r(11604),o=r(44592),l=r(67294);function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},a.apply(this,arguments)}var s=["spacing","children"],u=(0,i.Gp)((function(e,n){var r=(0,i.jC)("Switch",e),u=(0,i.Lr)(e),d=u.spacing,c=void 0===d?"0.5rem":d,f=u.children,v=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(u,s),m=(0,t.O)(v),p=m.state,h=m.getInputProps,g=m.getCheckboxProps,b=m.getRootProps,y=m.getLabelProps,x=l.useMemo((function(){return a({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0},r.container)}),[r.container]),j=l.useMemo((function(){return a({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer"},r.track)}),[r.track]),C=l.useMemo((function(){return a({userSelect:"none",marginStart:c},r.label)}),[c,r.label]);return l.createElement(i.m$.label,a({},b(),{className:(0,o.cx)("chakra-switch",e.className),__css:x}),l.createElement("input",a({className:"chakra-switch__input"},h({},n))),l.createElement(i.m$.span,a({},g(),{className:"chakra-switch__track",__css:j}),l.createElement(i.m$.span,{__css:r.thumb,className:"chakra-switch__thumb","data-checked":(0,o.PB)(p.isChecked),"data-hover":(0,o.PB)(p.isHovered)})),f&&l.createElement(i.m$.span,a({className:"chakra-switch__label"},y(),{__css:C}),f))}));o.Ts&&(u.displayName="Switch")},33441:function(e,n,r){r.d(n,{g:function(){return u}});var t=r(79762),i=r(11604),o=r(44592),l=r(67294);function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},a.apply(this,arguments)}var s=["className","rows"],u=(0,i.Gp)((function(e,n){var r=(0,i.mq)("Textarea",e),u=(0,i.Lr)(e),d=u.className,c=u.rows,f=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(u,s),v=(0,t.Yp)(f),m=c?(0,o.CE)(r,["h","minH","height","minHeight"]):r;return l.createElement(i.m$.textarea,a({ref:n,rows:c},v,{className:(0,o.cx)("chakra-textarea",d),__css:m}))}));o.Ts&&(u.displayName="Textarea")},70089:function(e,n,r){r.r(n),r.d(n,{default:function(){return H}});var t=r(85893),i=r(15193),o=r(24128),l=r(68527),a=r(7657),s=r(4612),u=r(84304),d=r(67294),c=r(4905),f=r(51649),v=r(92898),m=r(98708),p=r(90269),h=r(88767),g=r(46337),b=r(2804),y=r(29092),x=r(48692),j=r(78093),C=r(2893),I=r(51854),O=r(28823),N=r(3397),k=r(45561),E=r(37492),_=r(22490),S=r(86893),P=r(90994),T=r(23324),w=r(26901);function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function R(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function M(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){R(e,n,r[n])}))}return e}function F(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function q(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);l=!0);}catch(s){a=!0,i=s}finally{try{l||null==r.return||r.return()}finally{if(a)throw i}}return o}}(e,n)||L(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,n){if(e){if("string"===typeof e)return D(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,n):void 0}}var U=function(e){var n=e.label,r=e.icon,o=F(e,["label","icon"]);return(0,t.jsx)(i.hU,M({color:"text.primary",borderRadius:"100%",ml:"0.5rem",bgColor:"background.paper","aria-label":n,icon:r,_hover:{bg:"active.primary"},_focus:{outline:"none"}},o))};function H(e){var n=e.isOpen,r=e.onClose,i=e.data,D=e.startProgress,R=e.endProgress,F=e.isDiscuss,L=e.isComment,H=e.handleEditDiscussion,z=(0,b.useRecoilValue)(y.ZP),B=(0,d.useState)((null===i||void 0===i?void 0:i.text)||""),Z=B[0],V=B[1],$=(0,d.useState)(!1),G=$[0],K=$[1],W=(0,d.useState)([]),Y=W[0],Q=W[1],J=(0,d.useState)("image"),X=J[0],ee=J[1],ne=(0,h.useMutation)(g.eu),re=(0,h.useMutation)(g.dq),te=(0,h.useMutation)(P.IM),ie=(0,h.useMutation)(g.xF),oe=(0,d.useRef)(null),le=(0,d.useState)(!0),ae=le[0],se=le[1],ue=(0,d.useState)((null===i||void 0===i?void 0:i.media)||[]),de=ue[0],ce=ue[1],fe=q((0,b.useRecoilState)(x.dD),2),ve=(fe[0],fe[1]),me=(0,d.useState)(""),pe=me[0],he=me[1],ge=(0,d.useState)({ogTitle:"",ogUrl:"",ogDescription:"",ogImage:""}),be=ge[0],ye=ge[1],xe=(0,d.useState)(""),je=xe[0],Ce=xe[1],Ie=(0,d.useState)(!1),Oe=(Ie[0],Ie[1]),Ne=(0,d.useState)(!1),ke=Ne[0],Ee=Ne[1],_e=(0,d.useState)(!1),Se=_e[0],Pe=_e[1],Te=(0,d.useState)(""),we=Te[0],De=Te[1],Re=(0,d.useState)("java"),Me=Re[0],Fe=Re[1],qe=(0,d.useState)(!1),Ae=qe[0],Le=qe[1],Ue=(0,d.useState)(""),He=Ue[0],ze=Ue[1],Be=(0,d.useState)(!1),Ze=Be[0],Ve=Be[1],$e=(0,d.useState)(!1),Ge=$e[0],Ke=$e[1];(0,d.useEffect)((function(){var e,n,r,t,o;i&&(Ke(i.showRole),Ce((null===i||void 0===i?void 0:i.title)||""),V((null===i||void 0===i?void 0:i.text)||""),ce((null===i||void 0===i?void 0:i.media)||[]),(null===i||void 0===i?void 0:i.code)&&(De((null===i||void 0===i||null===(e=i.code)||void 0===e?void 0:e.sourceCode)||""),Fe("62"==(null===i||void 0===i||null===(n=i.code)||void 0===n?void 0:n.languageId)?"java":"54"==(null===(r=i.code)||void 0===r?void 0:r.languageId)?"cpp":"python"),ze((null===i||void 0===i||null===(t=i.code)||void 0===t?void 0:t.input)?null===i||void 0===i||null===(o=i.code)||void 0===o?void 0:o.input:""),Pe(!0)))}),[i]);var We=(0,d.useMemo)((function(){return A((0,p.Ry)(Y,"all")).concat(A(de))}),[Y,de]),Ye=function(e){ee(e),K(!0)},Qe=function(e){var n,t,o={text:Z,media:e||[],uuid:(null===i||void 0===i?void 0:i.id)||""};if(((null===be||void 0===be||null===(n=be.ogTitle)||void 0===n?void 0:n.length)>0||(null===be||void 0===be||null===(t=be.ogDescription)||void 0===t?void 0:t.length)>0)&&(o.meta=be),we.trim().length>0&&(He.trim().length>0?o.code={sourceCode:we,languageId:N.Dz[Me].toString(),input:He}:o.code={sourceCode:we,languageId:N.Dz[Me].toString()}),F){if(L)return void(H&&H(M({},o,{title:je})));te.mutate({discussionId:o.uuid,payload:M({},o,{title:je})},{onSuccess:function(n){var t=M({},i,{text:Z,title:je,media:e||[],meta:(null===o||void 0===o?void 0:o.meta)?null===o||void 0===o?void 0:o.meta:void 0,code:(null===o||void 0===o?void 0:o.code)?null===o||void 0===o?void 0:o.code:void 0});H(t),R(),Q([]),V(""),he(""),ye({ogTitle:"",ogUrl:"",ogDescription:"",ogImage:""}),Oe(!1),r()},onError:function(e){console.error(e),r()}})}else o.showRole=Ge,re.mutate((0,p.ZF)(o),{onSuccess:function(n){i&&(ve(M({},i,{text:Z,media:e||[],meta:(null===o||void 0===o?void 0:o.meta)?null===o||void 0===o?void 0:o.meta:void 0,code:(null===o||void 0===o?void 0:o.code)?null===o||void 0===o?void 0:o.code:void 0,showRole:Ge})),R(),Q([]),V(""),he(""),ye({ogTitle:"",ogUrl:"",ogDescription:"",ogImage:""}),Oe(!1)),r()},onError:function(e){console.log(e),r()}})},Je=function(e){for(var n=function(n){var i=new FormData;Object.keys(e[n].fields).forEach((function(r){i.append(r,e[n].fields[r])})),i.append("file",Y[n]),r.push({url:e[n].url,formData:i}),t.push({url:e[n].url+"/"+e[n].fields.key,type:"application"===Y[n].type.split("/")[0]?"file":Y[n].type.split("/")[0],filename:Y[n].name})},r=[],t=[],i=0;i<e.length;i++)n(i);ie.mutate(r,{onSuccess:function(){return Qe(A(t).concat(A(de)))},onError:console.error})};(0,d.useEffect)((function(){F?(je.trim().length>0||L)&&Z.trim().length>0?(console.log("bye",{title:je,editPostInput:Z}),se(!1)):(console.log("hi",{title:je,editPostInput:Z}),se(!0)):(console.log("yaha aya"),Y.length>0||Z?se(!1):se(!0))}),[Y,je,Z]);var Xe=(0,h.useMutation)(C.ol);(0,d.useEffect)((function(){var e=!1;if(Oe((function(n){var r,t;(null===i||void 0===i||null===(r=i.meta)||void 0===r?void 0:r.ogImage)&&!n&&(he(null===i||void 0===i||null===(t=i.meta)||void 0===t?void 0:t.ogUrl),ye(i.meta));return n||(e=!0,!0)})),!e){var n=I.sE(Z).filter((function(e){return"url"===e.type}));n.length>0&&n[0].href!=pe?n[0].href!=pe&&he(n[0].href):0==n.length&&he("")}}),[Z]),(0,d.useEffect)((function(){pe.trim().length>0?Xe.mutate({url:pe},{onSuccess:function(e){console.log({scrapped:e}),ye(e.data)},onError:console.error}):ye({ogTitle:"",ogUrl:"",ogDescription:"",ogImage:""})}),[pe]);(0,b.useRecoilValue)(w.Oj);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{allMedia:Y,isOpen:G,onClose:function(e){0!==e.length&&Q(A(Y).concat(A(e))),K(!1)},type:X}),(0,t.jsx)(k.default,{code:we,setCode:De,language:Me,setLanguage:Fe,isEditableMode:Ae,setCodeEditorModal:Ee,isOpen:ke,handleAddClick:function(){Pe(!0),Ee(!1)},inputVal:He,setInputVal:ze}),(0,t.jsxs)(o.u_,{isOpen:n,onClose:r,children:[(0,t.jsx)(o.ZA,{}),(0,t.jsxs)(o.hz,{maxHeight:"500px",bgColor:"background.paper",children:[(0,t.jsx)(o.xB,{color:"text.primary",borderBottomWidth:"1px",borderColor:"text.placeholder",children:F?(0,t.jsxs)(l.kC,{justify:"start",align:"center",children:[(0,t.jsx)(a.qE,{name:null===z||void 0===z?void 0:z.fullName,src:null===z||void 0===z?void 0:z.profileUrl}),(0,t.jsx)(l.xv,{mt:"1rem",ml:"1rem",children:null===z||void 0===z?void 0:z.fullName})]}):"  Edit Your Post"}),(0,t.jsx)(o.ol,{bgColor:"brand.600",color:"text.primary",height:"2rem",width:"2rem",borderRadius:"full",mt:"0.5rem",_hover:{border:"1px solid",borderColor:"active.primary"},_focus:{outline:"none"}}),(0,t.jsx)(o.fe,{overflow:"auto",p:0,children:(0,t.jsxs)(l.kC,{maxHeight:"420px",pos:"relative",flexDirection:"column",children:[F&&!L?(0,t.jsx)(l.kC,{justify:"center",p:"1rem",children:(0,t.jsx)(s.II,{mt:"0.5rem",placeholder:" Doubt Title",borderWidth:"0.5px",borderRadius:"0.375rem",h:"4rem",borderColor:"button.placeholder",color:"text.primary",_active:{borderColor:"active.primary"},_focus:{borderColor:"active.primary"},_hover:{borderColor:"active.primary"},value:je,onChange:function(e){Ce(e.target.value)}})}):L?(0,t.jsx)(t.Fragment,{}):(0,t.jsxs)(l.kC,{alignItems:"center",pos:"sticky",zIndex:4e3,bg:"background.paper",top:"0",justifyContent:"space-between",pr:"2rem",children:[(0,t.jsxs)(l.kC,{children:[(0,t.jsx)(a.qE,{name:null===z||void 0===z?void 0:z.fullName,src:null===z||void 0===z?void 0:z.profileUrl,mt:"1rem",ml:"1.5rem"}),(0,t.jsx)(l.xv,{mt:"1rem",ml:"1rem",children:null===z||void 0===z?void 0:z.fullName})]}),!F&&1!==(null===z||void 0===z?void 0:z.role)&&(0,t.jsxs)(l.kC,{alignItems:"center",children:[Ge&&(0,t.jsx)(T.P,{role:null===z||void 0===z?void 0:z.role}),(0,t.jsx)(u.r,{ml:"0.5rem",style:{backgroundColor:"gray",borderRadius:"15px",height:"16px"},size:"sm",colorScheme:"purple",isChecked:Ge,onChange:function(){Ke(!Ge)}})]})]}),(0,t.jsx)(l.kC,{justifyContent:"center",w:"100%",m:"1rem 0rem",children:(0,t.jsx)(j.Z,{className:"mentionInput",placeholder:"What's on your mind ?",color:"text.primary",a11ySuggestionsListLabel:"Type anything, use the @ symbol to tag other users.",value:Z,setValue:V,children:(0,t.jsx)(t.Fragment,{})})}),(0,t.jsx)(O.default,{ogCardData:be,isPreview:!0,handleDeleteOgCard:function(){console.log("Close OgCard"),ye({ogTitle:"",ogUrl:"",ogDescription:"",ogImage:"",ogVideo:""}),he("")}}),(0,t.jsx)(l.kC,{children:i&&0!==We.length?(0,t.jsx)(m.Z,{media:We,handleMediaDelete:function(e){e<Y.length?Q(Y.filter((function(n,r){return e!==r}))):ce(de.filter((function(n,r){return e-(Y.length>0?Y.length:0)!==r})))}}):(0,t.jsx)(t.Fragment,{})}),(0,t.jsx)(l.kC,{pos:"relative",flexDirection:"column",mt:"0.5rem",children:Se?(0,t.jsx)(E.default,{language:Me,code:we,isPreview:!0,DeleteCode:function(){De(""),Fe("java"),Pe(!1)},EditCode:function(){Le(!0),Ee(!0)}}):(0,t.jsx)(t.Fragment,{})})]})}),(0,t.jsx)(o.mz,{p:0,children:(0,t.jsxs)(l.kC,{alignItems:"center",flexDirection:"row",justifyContent:"space-between",width:"100%",children:[(0,t.jsxs)(l.kC,{ml:"1rem",flexDirection:"row",justifyContent:"space-between",children:[(0,t.jsx)(U,{_hover:{bg:"active.primary",color:"black"},label:"upload image",disabled:de.length+Y.length>=4,onClick:function(){return Ye("image")},icon:(0,t.jsx)(f.qiC,{size:"1.5rem"})}),(0,t.jsx)(U,{_hover:{bg:"active.primary",color:"black"},label:"upload video",disabled:de.length+Y.length>=4,onClick:function(){return Ye("video")},icon:(0,t.jsx)(f.H6Z,{size:"1.5rem"})}),(0,t.jsx)(U,{_hover:{bg:"active.primary",color:"black"},label:"upload file",disabled:de.length+Y.length>=4,onClick:function(){return Ye("file")},icon:(0,t.jsx)(f.sUm,{size:"1.5rem"})}),(0,t.jsxs)(l.kC,{ref:oe,pos:"relative",children:[(0,t.jsx)(_.Z,{showEmoji:Ze,addEmoji:function(e){var n=e.native;V(Z+n)},style:{position:"absolute",bottom:"2.5rem",right:"0.0625rem",zIndex:200}}),F||L?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(U,{_hover:{bg:"active.primary",color:"black"},label:"Emoji",onClick:function(){return Ve(!Ze)},icon:(0,t.jsx)(S.jMy,{color:"text.primary",size:24})})]})]}),(0,t.jsx)(c.Z,{disabled:ae,color:"white",bgColor:"background.button",onClick:function(){var e=Y.map((function(e){return{type:"post",mediaType:"application"===e.type.split("/")[0]?"file":e.type.split("/")[0],extension:e.type.split("/")[1]}}));e.length>0?(D(),r(),ne.mutate(e,{onSuccess:Je,onError:console.log,onSettled:console.log})):(D(),Qe(de))},h:"3.125rem",w:"7.375rem",m:"1.5rem",_hover:{border:"1px solid",borderColor:"active.primary"},_focus:{outline:"none"},children:"Done"})]})})]})]})]})}}}]);